{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to CraneMagic","text":""},{"location":"hands-on/","title":"\u5982\u4f55\u4f7f\u7528","text":""},{"location":"hands-on/#2023-06-23","title":"2023-06-23 \u66f4\u65b0\u4e13\u7528","text":""},{"location":"hands-on/#_2","title":"\u5bf9\u4e2d\u5e73\u53f0\u72b6\u6001","text":"<p>WMS \u6301\u7eed\u4ece UDP 5025 \u7aef\u53e3\u63a5\u6536\u5bf9\u4e2d\u5e73\u53f0\u662f\u5426\u5c31\u7eea\u7684\u4fe1\u53f7\uff0c\u5f53\u5bf9\u4e2d\u5e73\u53f0\u5c31\u7eea\u65f6\uff0c\u9875\u9762\u5b9e\u65f6\u66f4\u65b0\u3002</p>"},{"location":"hands-on/#_3","title":"\u6761\u7801\u67aa\u626b\u5165","text":"<p>\u6761\u7801\u67aa\u626b\u5165\u94a2\u677f\u578b\u53f7\u7684\u4e8c\u7ef4\u7801\uff0c\u901a\u8fc7 TCP \u534f\u8bae\u53d1\u9001\u81f3 [\u672c\u673aIP] \u76845024\u7aef\u53e3\u3002</p> <p>\u82e5\u65e0\u6761\u7801\u67aa\uff0c\u53ef\u76f4\u63a5\u4f7f\u7528 TCP \u534f\u8bae\u4f20\u8f93\u6750\u6599\u578b\u53f7\u3002</p> <ul> <li> <p>\u94a2\u677f\u578b\u53f7\u4e0d\u5b58\u5728\uff08\u76ee\u524d\u7684\u65b9\u5f0f\u662f\u67e5\u5e93\u4f4d\u8868\u4e2d\u7684<code>comment</code>\uff09\uff1a</p> <p>\u4ec5\u63d0\u793a\u6761\u7801\u67aa\u626b\u5165\uff0c\u6ca1\u6709\u540e\u7eed\u4fe1\u606f\u3002</p> <p></p> </li> <li> <p>\u6ca1\u6709\u6b63\u5728\u8fd0\u884c\u7684\u8d77\u91cd\u673a\uff1a</p> <p></p> </li> <li> <p>\u5bf9\u4e2d\u5e73\u53f0 In \u6709\u4e14\u4ec5\u6709 1 \u4ef6\u6750\u6599\uff0c\u94a2\u677f\u578b\u53f7\u4e00\u81f4\uff1a</p> <p></p> </li> <li> <p>\u5bf9\u4e2d\u5e73\u53f0 In \u6709\u4e14\u4ec5\u6709 1 \u4ef6\u6750\u6599\uff0c\u94a2\u677f\u578b\u53f7\u4e0d\u4e00\u81f4\uff1a</p> <p></p> </li> </ul> <p>\u70b9\u51fb\u4fe1\u606f\u5165\u5e93\uff0c\u5f39\u51fa\u65b0\u5efa\u5de5\u5355\u7a97\u53e3\uff0c\u5df2\u6839\u636e\u5165\u5e93\u578b\u53f7\u586b\u5165\u76f8\u5e94\u4fe1\u606f\u3002</p> <p></p> <p>\u53ef\u89c1\u5f53\u524d\u5bf9\u4e2d\u5e73\u53f0\u672a\u5c31\u7eea\u7684\u60c5\u51b5\u4e0b\uff0c\u201c\u786e\u5b9a\u201d\u6309\u94ae\u4e3a\u4e0d\u5f97\u70b9\u51fb\u7684\u72b6\u6001\u3002</p> <p>WMS \u6301\u7eed\u63a5\u6536\u5bf9\u4e2d\u5e73\u53f0\u662f\u5426\u5c31\u7eea\u7684\u4fe1\u53f7\uff0c\u5f53\u5bf9\u4e2d\u5e73\u53f0\u5c31\u7eea\u65f6\uff0c\u9875\u9762\u5b9e\u65f6\u66f4\u65b0\u3002\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u5373\u53d1\u9001\u5de5\u5355\u3002</p> <p></p> <ul> <li> <p>\u5bf9\u4e2d\u5e73\u53f0 In \u6709\u5927\u4e8e 1 \u4ef6\u6750\u6599\uff1a</p> <p></p> </li> </ul>"},{"location":"hands-on/#_4","title":"\u539f\u70b9\u590d\u4f4d","text":"<p>\u6bcf\u4e00\u4e2a\u8d77\u91cd\u673a\u5747\u6709\u539f\u70b9\u590d\u4f4d\u7684\u6309\u94ae\uff0c\u70b9\u51fb\u5f39\u51fa\u7a97\u53e3\u3002</p> <p></p>"},{"location":"mkdocs/","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"mkdocs/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"mkdocs/#project-layout","title":"Project layout","text":"Text Only<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"updates/","title":"\u66f4\u65b0\u65e5\u5fd7","text":""},{"location":"updates/#2023-06-09-draft","title":"2023-06-09 (Draft)","text":""},{"location":"updates/#_2","title":"\u5f90\u5dde\u4ed3\u5e93\u6761\u7801\u67aa\u903b\u8f91","text":"<ol> <li> <p>\u6761\u7801\u67aa\u626b\u5165\u94a2\u677f\u578b\u53f7\u7684\u4e8c\u7ef4\u7801\uff0c\u901a\u8fc7 TCP \u534f\u8bae\u53d1\u9001\u81f3 cranemagic-tcp-server\u3002</p> </li> <li> <p>cranemagic-servers-tcp \u63a5\u6536\u94a2\u677f\u578b\u53f7\u540e\uff0c\u751f\u6210\u53d1\u9001\u7ed9 MQTT Broker \u7684 Payload \u5982\u4e0b\uff1a</p> JSON<pre><code>{\n\"type\": \"scanner_status\",\n\"steel_model\": \"xxxxxxxxx\",\n\"current_time\": \"%Y-%m-%d %H:%M:%S\",\n\"client_address\": \"IP:PORT\"\n}\n</code></pre> <p>\u5176\u4e2d <code>type</code> \u5b57\u6bb5\u4e3a\u679a\u4e3e\u503c\uff0c\u5f53\u524d\u503c <code>scanner_status</code> \u662f\u6807\u8bc6\u5f53\u524d\u6709\u626b\u7801\u67aa\u626b\u5165\u94a2\u677f\u578b\u53f7\u7684\u884c\u4e3a\uff0c\u53e6\u4e00\u503c\u4e3a <code>scanner_inputs</code>\uff0c\u7a0d\u540e\u8be6\u89e3\u5176\u4f5c\u7528\u3002</p> <p>\u5c06\u672c Payload \u53d1\u9001\u81f3 MQTT Broker \u4e0b\u7684 2 \u4e2a Topic\uff1a<code>iot/scanner_inputs</code>\uff08\u7528\u4ee5\u4e0e cranmegic-service-mqtt \u670d\u52a1\u4ea4\u4e92\uff09\u548c <code>web/scanner_status</code>\uff08\u7528\u4ee5\u5411\u524d\u7aef\u62a5\u544a\u5f53\u524d\u6709\u626b\u7801\u67aa\u626b\u5165\u94a2\u677f\u578b\u53f7\u7684\u884c\u4e3a\uff09\u3002</p> </li> <li> <p>\u9488\u5bf9 MQTT \u6d88\u606f\u7684\u5904\u7406</p> <ul> <li> <p>\u524d\u7aef\u5904\u7406</p> <p>\u524d\u7aef\u5f39\u51fa notification\uff0c\u62a5\u544a\u5f53\u524d\u6709\u626b\u7801\u67aa\u626b\u5165\u94a2\u677f\u578b\u53f7\u7684\u884c\u4e3a\u3002</p> </li> <li> <p>cranemagic-service-mqtt \u5904\u7406</p> <p>\u63a5\u6536\u5230\u6761\u7801\u67aa\u626b\u5165\u7684\u94a2\u677f\u578b\u53f7\uff0c\u9a8c\u8bc1\u94a2\u677f\u578b\u53f7\u662f\u5426\u5b58\u5728\uff08\u76ee\u524d\u7684\u65b9\u5f0f\u662f\u67e5\u5e93\u4f4d\u8868\u4e2d\u7684<code>comment</code>\uff09\u3002</p> <p>\u67e5\u8be2\u5bf9\u4e2d\u5e73\u53f0 In \u7684\u6750\u6599\u72b6\u51b5\uff1a</p> <p>\u5982\u679c\u5bf9\u4e2d\u5e73\u53f0 In \u6ca1\u6709\u6750\u6599\uff0c\u5219\uff1a</p> <ol> <li> <p>\u5411\u5bf9\u4e2d\u5e73\u53f0 In \u65b0\u589e\u76f8\u5e94\u94a2\u677f\u578b\u53f7\u7684\u6750\u6599\u3002</p> </li> <li> <p>\u83b7\u53d6\u8be5\u94a2\u677f\u578b\u53f7\u5bf9\u5e94\u7684\u4ed3\u50a8\u4f4d\u4fe1\u606f\uff0c\u8bf7\u6c42 cranemagic-service-webapi \u670d\u52a1\u7684 <code>generateCraneTaskHandingWithoutAuth</code> \u63a5\u53e3\uff0c\u5f97\u5230\u751f\u6210\u8def\u5f84\u3002</p> </li> <li> <p>\u5e76\u901a\u8fc7 MQTT Topic <code>web/scanner_status</code> \u524d\u7aef\u62a5\u544a\u5f53\u524d\u53ef\u4ee5\u6267\u884c\u5165\u5e93\u64cd\u4f5c\uff0c\u5177\u4f53 Payload \u5982\u4e0b\uff1a</p> JSON<pre><code>{\n\"type\": \"scanner_inputs\",\n\"steel_model\": \"xxxxxxxxx\",\n\"current_time\": \"%Y-%m-%d %H:%M:%S\",\n\"client_address\": \"IP:PORT\",\n\"action\": \"ready_for_inputs\",\n\"message\": \"\",\n\"crane_id\": \"85\",\n\"warehouse_id\": \"DP-Kunshan\",\n\"material_id\": \"idxxxxxxxx\",\n\"area_id\": \"kwxx\",\n\"crane_control_payload\": {\n// Crane_Control \u7684 Payload\n}\n}\n</code></pre> </li> <li> <p>\u524d\u7aef\u5f39\u51fa notification\uff0c\u70b9\u51fb\u53ef\u8bf7\u6c42 cranemagic-service-webapi \u670d\u52a1\u7684 <code>mqttPublishCraneControl</code> \u63a5\u53e3\u5feb\u901f\u6267\u884c\u5165\u5e93\u64cd\u4f5c\u3002</p> </li> </ol> <p>\u5982\u679c\u5bf9\u4e2d\u5e73\u53f0 In \u6709\u4e14\u4ec5\u6709 1 \u4ef6\u6750\u6599\uff0c\u5219\uff1a</p> <ol> <li> <p>\u82e5\u94a2\u677f\u578b\u53f7\u4e00\u81f4\uff0c\u5219\u4e0d\u505a\u6539\u52a8\uff1b\u82e5\u94a2\u677f\u578b\u53f7\u4e0d\u4e00\u81f4\uff0c\u5220\u9664\u539f\u5148 In \u5e93\u4f4d\u4e2d\u7684\u94a2\u677f\uff0c\u5e76\u5411\u5bf9\u4e2d\u5e73\u53f0 In \u65b0\u589e\u76f8\u5e94\u94a2\u677f\u578b\u53f7\u7684\u6750\u6599\u3002</p> </li> <li> <p>\u83b7\u53d6\u8be5\u94a2\u677f\u578b\u53f7\u5bf9\u5e94\u7684\u4ed3\u50a8\u4f4d\u4fe1\u606f\uff0c\u8bf7\u6c42 cranemagic-service-webapi \u670d\u52a1\u7684 <code>generateCraneTaskHandingWithoutAuth</code> \u63a5\u53e3\uff0c\u5f97\u5230\u751f\u6210\u8def\u5f84\u3002</p> </li> <li> <p>\u5e76\u901a\u8fc7 MQTT Topic <code>web/scanner_status</code> \u524d\u7aef\u62a5\u544a\u5f53\u524d\u53ef\u4ee5\u6267\u884c\u5165\u5e93\u64cd\u4f5c\uff0c\u5177\u4f53 Payload \u5982\u4e0b\uff1a</p> JSON<pre><code>{\n\"type\": \"scanner_inputs\",\n\"steel_model\": \"xxxxxxxxx\",\n\"current_time\": \"%Y-%m-%d %H:%M:%S\",\n\"client_address\": \"IP:PORT\",\n\"action\": \"ready_for_inputs\",\n\"message\": \"the same steel_model\" / \"removed the older material\",\n\"crane_id\": \"85\",\n\"warehouse_id\": \"DP-Kunshan\",\n\"material_id\": \"idxxxxxxxx\",\n\"area_id\": \"kwxx\",\n\"crane_control_payload\": {\n// Crane_Control \u7684 Payload\n}\n}\n</code></pre> </li> <li> <p>\u524d\u7aef\u5f39\u51fa notification\uff0c\u70b9\u51fb\u53ef\u8bf7\u6c42 cranemagic-service-webapi \u670d\u52a1\u7684 <code>mqttPublishCraneControl</code> \u63a5\u53e3\u5feb\u901f\u6267\u884c\u5165\u5e93\u64cd\u4f5c\u3002</p> </li> </ol> <p>\u5982\u679c\u5bf9\u4e2d\u5e73\u53f0 In \u6709\u5927\u4e8e 1 \u4ef6\u6750\u6599\uff0c\u5219\uff1a</p> <ol> <li> <p>\u901a\u8fc7 MQTT Topic <code>web/scanner_status</code> \u8be2\u95ee\u524d\u7aef\u662f\u5426\u9700\u8981\u6e05\u9664 In \u5e93\u4f4d\u7684\u6240\u6709\u94a2\u677f\uff0c\u5177\u4f53 Payload \u5982\u4e0b\uff1a</p> JSON<pre><code>{\n\"type\": \"scanner_inputs\",\n\"steel_model\": \"xxxxxxxxx\",\n\"current_time\": \"%Y-%m-%d %H:%M:%S\",\n\"client_address\": \"IP:PORT\",\n\"action\": \"clear_in_area\",\n\"message\": \"x materials recorded in the In Area\",\n\"warehouse_id\": \"DP-Kunshan\"\n}\n</code></pre> </li> <li> <p>\u524d\u7aef\u5f39\u51fa notification\uff0c...</p> </li> </ol> </li> </ul> </li> </ol>"},{"location":"design/arch/","title":"\u6574\u4f53\u67b6\u6784","text":""},{"location":"design/design/","title":"\u8bbe\u8ba1","text":""},{"location":"tech_details/common/cranemagic-service-webapi/","title":"WebAPI","text":""},{"location":"tech_details/common/cranemagic-service-webapi/#realtime","title":"Realtime","text":""},{"location":"tech_details/common/cranemagic-service-webapi/#realtimegeneratecranetaskhandingdp-kunshan","title":"<code>/realtime/generateCraneTaskHanding/DP-Kunshan</code>","text":"<p>Payload</p> JSON<pre><code>{\n\"crane\": {\n\"id\": \"85\",\n\"posX\": \"002874\",\n\"posY\": \"005243\",\n\"posZ\": \"000394\",\n\"lCarSpeed\": \"06835\",\n\"sCarSpeed\": \"00425\",\n\"hookSpeed\": \"00092\",\n\"hookWeight\": \"00500\",\n\"taskId\": \"20230602111714\",\n\"workStatus\": 0,\n\"faultCode\": \"E3\",\n\"faultDescription\": \"\",\n\"eventDate\": \"2023-06-12 13:56:25\",\n\"info\": {\n\"id\": \"85\",\n\"type\": \"CRANE\",\n\"model\": {\n\"id\": \"DP-CRANE-Kunshan\",\n\"name\": \"\u4e1c\u666e\u6606\u5c71\u8d77\u91cd\u673a\u578b\u53f7\",\n\"properties\": {\n\"lCar_width\": 8000,\n\"sCar_width\": 4000,\n\"lCar_length\": 22000,\n\"sCar_length\": 5400,\n\"hook_maxSpeed\": 1500,\n\"lCar_maxSpeed\": 1500,\n\"sCar_maxSpeed\": 1500\n}\n},\n\"usage\": {\n\"status\": \"INUSE\",\n\"purchaseTime\": \"2018-11-21 00:00:00\",\n\"startTime\": null,\n\"lastModifiedTime\": null,\n\"expiredTime\": null\n},\n\"comment\": \"\",\n\"maxHeight\": 3000,\n\"warehouse\": { \"id\": \"DP-Kunshan\" }\n}\n},\n\"sourceArea\": [\n\"IN\",\n{\n\"id\": \"In\",\n\"type\": \"IN\",\n\"name\": \"\u5bf9\u4e2d\u5e73\u53f0\",\n\"size\": { \"length\": 10000, \"width\": 2500, \"height\": 880 },\n\"position\": { \"xAxis\": 6549, \"yAxis\": 19516, \"zAxis\": 0, \"degree\": 0 },\n\"centerPosition\": { \"xAxis\": 6549, \"yAxis\": 19516, \"zAxis\": 0 },\n\"comment\": \"\",\n\"warehouse\": { \"id\": \"DP-Kunshan\" },\n\"material_count\": 2\n}\n],\n\"targetArea\": [\n\"STORAGE\",\n{\n\"id\": \"KW01\",\n\"type\": \"STORAGE\",\n\"name\": \"KW01\",\n\"size\": { \"length\": 9000, \"width\": 2200, \"height\": 1550 },\n\"position\": { \"xAxis\": 1600, \"yAxis\": 15580, \"zAxis\": 0, \"degree\": 0 },\n\"centerPosition\": { \"xAxis\": 1600, \"yAxis\": 15580, \"zAxis\": 0 },\n\"comment\": \"kkkkkk0001\",\n\"warehouse\": { \"id\": \"DP-Kunshan\" },\n\"material_count\": 1\n}\n],\n\"materials\": [\n{\n\"id\": \"AT-989797\",\n\"model\": {\n\"id\": \"kkkkkk0001\",\n\"name\": \"\u94a2\u677f6/Q235B\",\n\"raws\": \"\u94a2\u677f6\",\n\"thickness\": \"Q235B\",\n\"size\": { \"length\": 6000, \"width\": 1720, \"height\": 6 },\n\"delta\": { \"xAxis\": 1800, \"yAxis\": 0, \"zAxis\": 0 }\n},\n\"area\": { \"id\": \"In\", \"type\": \"IN\", \"name\": \"\u5bf9\u4e2d\u5e73\u53f0\", \"comment\": \"\" },\n\"areaSeq\": 0,\n\"createTime\": \"2023-06-09 19:52:38\",\n\"removeTime\": null,\n\"info\": \"AT-989797,6000,1720,6,0\"\n},\n{\n\"id\": \"AT-989796\",\n\"model\": {\n\"id\": \"kkkkkk0001\",\n\"name\": \"\u94a2\u677f6/Q235B\",\n\"raws\": \"\u94a2\u677f6\",\n\"thickness\": \"Q235B\",\n\"size\": { \"length\": 6000, \"width\": 1720, \"height\": 6 },\n\"delta\": { \"xAxis\": 1800, \"yAxis\": 0, \"zAxis\": 0 }\n},\n\"area\": { \"id\": \"In\", \"type\": \"IN\", \"name\": \"\u5bf9\u4e2d\u5e73\u53f0\", \"comment\": \"\" },\n\"areaSeq\": 1,\n\"createTime\": \"2023-06-09 19:52:38\",\n\"removeTime\": null,\n\"info\": \"AT-989796,6000,1720,6,0\"\n}\n]\n}\n</code></pre>"}]}